{
  "created_at": "2026-02-12T22:31:03.147240Z",
  "epic": {
    "data": {
      "branch_name": "fn-11-api-development-skills",
      "created_at": "2026-02-11T22:23:18.504166Z",
      "depends_on_epics": [
        "fn-2-plugin-skeleton-and-infrastructure"
      ],
      "id": "fn-11-api-development-skills",
      "next_task": 1,
      "plan_review_status": "unknown",
      "plan_reviewed_at": null,
      "spec_path": ".flow/specs/fn-11-api-development-skills.md",
      "status": "open",
      "title": "API Development Skills",
      "updated_at": "2026-02-12T22:28:10.655997Z"
    },
    "spec": "# fn-11: API Development Skills\n\n## Overview\nDelivers modern API development skills covering minimal APIs, API versioning, OpenAPI/Swagger integration, API security patterns, and comprehensive input validation.\n\n## Scope\n**Skills (5 total):**\n- `dotnet-minimal-apis` - Minimal APIs as the modern default: route groups, filters, endpoint filter pipeline, OpenAPI 3.1, organization patterns for scale. References `[skill:dotnet-input-validation]` for validation depth.\n- `dotnet-api-versioning` - API versioning with Microsoft.AspNetCore.Mvc.Versioning, URL versioning preferred\n- `dotnet-openapi` - OpenAPI/Swagger: Microsoft.AspNetCore.OpenApi, Swashbuckle, NSwag. Built-in .NET 10 first-class support.\n- `dotnet-api-security` - Authentication/authorization: ASP.NET Core Identity, OAuth/OIDC, JWT, passkeys (WebAuthn), CORS, CSP\n- `dotnet-input-validation` - Input validation patterns: .NET 10 built-in validation (AddValidation/Microsoft.Extensions.Validation), FluentValidation, Data Annotations, custom validators, endpoint filter integration, ProblemDetails error responses, security-focused validation (ReDoS prevention, allowlist patterns)\n\n## Scope Boundaries\n\n| Concern | fn-11 owns (API development) | Other epic owns | Enforcement |\n|---|---|---|---|\n| Security validation | Security-focused validation tips (ReDoS, allowlists) \u2014 practical patterns for input handling | fn-8: OWASP A03/A05 Injection mitigation (security principles) | Cross-ref `[skill:dotnet-security-owasp]` |\n| Architecture validation | N/A \u2014 cross-references `[skill:dotnet-architecture-patterns]` | fn-5: validation strategy (architectural patterns, FluentValidation overview) | Cross-ref presence validated by grep |\n| Blazor form validation | Brief mention with cross-ref | fn-12: Blazor patterns including EditForm validation | Cross-ref `[skill:dotnet-blazor-patterns]` when it lands |\n| Configuration validation | N/A | fn-3: `[skill:dotnet-csharp-configuration]` owns Options pattern ValidateDataAnnotations | Cross-ref presence |\n\n## Key Context\n- Minimal APIs are Microsoft's official recommendation for new projects (ASP.NET Core best practices)\n- .NET 10 brings built-in validation (AddValidation() + Microsoft.Extensions.Validation), SSE, OpenAPI 3.1 to Minimal APIs\n- Swashbuckle is no longer actively maintained; Microsoft.AspNetCore.OpenApi is the built-in replacement for .NET 9+ (existing projects can continue using Swashbuckle but should plan migration)\n- .NET 10 adds passkey authentication (WebAuthn) support\n- Vertical slice architecture increasingly mainstream for API organization\n- FluentValidation auto-validation via ASP.NET pipeline is deprecated; manual validation or endpoint filters preferred\n- .NET 10 validation uses source generators for AOT compatibility ([ValidatableType] attribute)\n- Microsoft.Extensions.Validation package extracts validation APIs for use outside HTTP scenarios\n- Validation decision tree: .NET 10 built-in (default for new projects) > FluentValidation (complex business rules) > Data Annotations (simple models) > MiniValidation (lightweight scenarios)\n\n## Task Decomposition\n\n### fn-11.1: Minimal APIs and versioning skills\n**Delivers:** `dotnet-minimal-apis`, `dotnet-api-versioning`\n- `skills/api/dotnet-minimal-apis/SKILL.md`\n- `skills/api/dotnet-api-versioning/SKILL.md`\n- Does NOT touch `plugin.json` (handled by integration task or combined)\n\n### fn-11.2: OpenAPI and API security skills\n**Delivers:** `dotnet-openapi`, `dotnet-api-security`\n- `skills/api/dotnet-openapi/SKILL.md`\n- `skills/api/dotnet-api-security/SKILL.md`\n\n### fn-11.3: Input validation skill\n**Delivers:** `dotnet-input-validation`\n- `skills/api/dotnet-input-validation/SKILL.md`\n- Covers: validation framework decision tree, .NET 10 built-in, FluentValidation, Data Annotations, endpoint filters for validation, ProblemDetails, security validation tips\n- Cross-references: `[skill:dotnet-security-owasp]`, `[skill:dotnet-architecture-patterns]`, `[skill:dotnet-minimal-apis]`\n\n## Quick Commands\n```bash\n# Smoke test: verify all 5 skills exist\nfor s in dotnet-minimal-apis dotnet-api-versioning dotnet-openapi dotnet-api-security dotnet-input-validation; do\n  test -f \"skills/api/$s/SKILL.md\" && echo \"OK: $s\" || echo \"MISSING: $s\"\ndone\n\n# Validate OpenAPI .NET 10 built-in support\ngrep -i \"Microsoft.AspNetCore.OpenApi\" skills/api/dotnet-openapi/SKILL.md\n\n# Test API security coverage\ngrep -i \"passkey\\|WebAuthn\" skills/api/dotnet-api-security/SKILL.md\n\n# Validate .NET 10 built-in validation coverage\ngrep -i \"AddValidation\\|Microsoft.Extensions.Validation\" skills/api/dotnet-input-validation/SKILL.md\n\n# Verify FluentValidation coverage\ngrep -i \"FluentValidation\\|AbstractValidator\" skills/api/dotnet-input-validation/SKILL.md\n\n# Verify security validation patterns\ngrep -i \"ReDoS\\|allowlist\\|denylist\" skills/api/dotnet-input-validation/SKILL.md\n\n# Verify cross-references\ngrep \"skill:dotnet-security-owasp\" skills/api/dotnet-input-validation/SKILL.md\ngrep \"skill:dotnet-architecture-patterns\" skills/api/dotnet-input-validation/SKILL.md\n\n# Validate all skills registered\ngrep -c \"skills/api/\" .claude-plugin/plugin.json  # expect 5\n\n# Run validation\n./scripts/validate-skills.sh\n```\n\n## Acceptance Criteria\n1. All 5 skills written at `skills/api/<name>/SKILL.md` with `name` and `description` frontmatter\n2. Minimal APIs skill covers route groups, filters, endpoint filter pipeline, organization at scale; references `[skill:dotnet-input-validation]` for validation depth\n3. API versioning skill documents URL versioning (preferred) and other strategies\n4. OpenAPI skill emphasizes built-in .NET 10 support over third-party libraries\n5. API security skill covers modern auth (passkeys, OAuth/OIDC) and security headers\n6. Input validation skill covers: validation decision tree (.NET 10 built-in vs FluentValidation vs Data Annotations), .NET 10 AddValidation() with source generator support, FluentValidation with manual validation pattern, Data Annotations + IValidatableObject, endpoint filters for validation, ProblemDetails/ValidationProblem error responses, security-focused validation (ReDoS prevention, allowlist patterns, max lengths)\n7. Input validation skill has explicit scope boundary: fn-8 OWASP (security principles), fn-5 architecture (architectural patterns), fn-11 validation (practical framework guidance)\n8. Skills cross-reference architecture patterns (vertical slices, request pipeline)\n9. ASP.NET Core best practices referenced throughout\n10. All 5 skills registered in `.claude-plugin/plugin.json`\n11. `./scripts/validate-skills.sh` passes\n\n## Test Notes\n- Verify minimal APIs skill recommends organization patterns for large projects\n- Test OpenAPI skill recommends Microsoft.AspNetCore.OpenApi for new projects, notes Swashbuckle migration path\n- Validate API security skill covers OWASP API security best practices\n- Verify input validation skill provides clear decision tree for framework selection\n- Test that .NET 10 AddValidation() is documented as the default for new projects\n- Verify FluentValidation section recommends manual validation over deprecated auto-validation\n- Confirm security validation tips cross-reference OWASP without duplicating fn-8 content\n\n## References\n- Minimal APIs: https://learn.microsoft.com/en-us/aspnet/core/fundamentals/minimal-apis?view=aspnetcore-10.0\n- ASP.NET Core Best Practices: https://learn.microsoft.com/en-us/aspnet/core/fundamentals/best-practices?view=aspnetcore-10.0\n- OpenAPI in ASP.NET Core: https://learn.microsoft.com/en-us/aspnet/core/fundamentals/openapi/overview?view=aspnetcore-10.0\n- ASP.NET Core Security: https://learn.microsoft.com/en-us/aspnet/core/security/?view=aspnetcore-10.0\n- Model Validation: https://learn.microsoft.com/en-us/aspnet/core/mvc/models/validation?view=aspnetcore-10.0\n- FluentValidation: https://docs.fluentvalidation.net/en/latest/aspnet.html\n- OWASP Input Validation Cheat Sheet: https://cheatsheetseries.owasp.org/cheatsheets/Input_Validation_Cheat_Sheet.html\n"
  },
  "epic_id": "fn-11-api-development-skills",
  "schema_version": 2,
  "tasks": [
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-02-11T22:32:03.326010Z",
        "depends_on": [],
        "epic": "fn-11-api-development-skills",
        "id": "fn-11-api-development-skills.1",
        "priority": null,
        "spec_path": ".flow/tasks/fn-11-api-development-skills.1.md",
        "status": "todo",
        "title": "Minimal APIs and versioning skills",
        "updated_at": "2026-02-11T22:32:03.326180Z"
      },
      "id": "fn-11-api-development-skills.1",
      "runtime": null,
      "spec": "# fn-11-api-development-skills.1 Minimal APIs and versioning skills\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-02-11T22:32:03.439906Z",
        "depends_on": [],
        "epic": "fn-11-api-development-skills",
        "id": "fn-11-api-development-skills.2",
        "priority": null,
        "spec_path": ".flow/tasks/fn-11-api-development-skills.2.md",
        "status": "todo",
        "title": "OpenAPI and API security skills",
        "updated_at": "2026-02-11T22:32:03.440043Z"
      },
      "id": "fn-11-api-development-skills.2",
      "runtime": null,
      "spec": "# fn-11-api-development-skills.2 OpenAPI and API security skills\n\n## Description\nTBD\n\n## Acceptance\n- [ ] TBD\n\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-02-12T22:28:16.165542Z",
        "depends_on": [],
        "epic": "fn-11-api-development-skills",
        "id": "fn-11-api-development-skills.3",
        "priority": null,
        "spec_path": ".flow/tasks/fn-11-api-development-skills.3.md",
        "status": "todo",
        "title": "Input validation skill",
        "updated_at": "2026-02-12T22:28:43.412651Z"
      },
      "id": "fn-11-api-development-skills.3",
      "runtime": null,
      "spec": "# fn-11-api-development-skills.3 Input validation skill\n\n## Description\nCreate the `dotnet-input-validation` skill covering comprehensive input validation patterns for .NET APIs: framework decision tree, .NET 10 built-in validation, FluentValidation, Data Annotations, endpoint filters, error responses, and security-focused validation.\n\n**Size:** M\n**Files:**\n- `skills/api/dotnet-input-validation/SKILL.md` (new)\n\n## Approach\n- Follow existing skill patterns at `skills/security/dotnet-security-owasp/SKILL.md` for structure and frontmatter conventions\n- Use `[skill:...]` cross-reference syntax per fn-2 conventions\n- Cross-reference `[skill:dotnet-security-owasp]` for OWASP injection prevention (don't duplicate fn-8 security principles)\n- Cross-reference `[skill:dotnet-architecture-patterns]` for architectural validation strategy (fn-5 has FluentValidation overview at lines 269-314)\n- Cross-reference `[skill:dotnet-minimal-apis]` for Minimal API pipeline integration\n- Reference `[skill:dotnet-csharp-configuration]` for Options pattern ValidateDataAnnotations\n\n## Key context\n- .NET 10 built-in validation: `builder.Services.AddValidation()` auto-discovers types from Minimal API handlers, adds endpoint filter. Uses source generators (`[ValidatableType]`) for AOT compatibility. Lives in `Microsoft.Extensions.Validation` package.\n- FluentValidation: manual validation is preferred (auto-validation via ASP.NET pipeline deprecated). Use `FluentValidation.DependencyInjectionExtensions` for assembly scanning. Endpoint filters for Minimal API integration.\n- Data Annotations: `[Required]`, `[Range]`, `[RegularExpression]`, `[StringLength]`, custom `ValidationAttribute`. `IValidatableObject` for cross-property validation.\n- MiniValidation: lightweight alternative for simple scenarios (mention briefly, cross-ref architecture-patterns for details).\n- ProblemDetails: `TypedResults.ValidationProblem()` for standard error responses. Customizable via `IProblemDetailsService`.\n- Security validation: ReDoS prevention (use `Regex()` with timeout, or `[GeneratedRegex]` for .NET 7+), allowlist vs denylist (always prefer allowlist), max length enforcement, file upload content type validation.\n- OWASP 2025: injection moved from A03 to A05. Cross-reference fn-8 OWASP skill for principles.\n- Decision tree: .NET 10 AddValidation (default new projects) > FluentValidation (complex rules) > Data Annotations (simple) > MiniValidation (micro)\n- Pitfall from memory: ConfigureHttpJsonOptions applies to Minimal APIs only, not MVC controllers \u2014 validation error formatting may differ\n- Pitfall from memory: options pattern classes must use { get; set; } not { get; init; } for binder compatibility \u2014 relevant for validation attributes on options\n## Acceptance\n- [ ] Skill file exists at `skills/api/dotnet-input-validation/SKILL.md`\n- [ ] Frontmatter has `name: dotnet-input-validation` and `description` (under 120 chars)\n- [ ] Covers validation framework decision tree: when to use .NET 10 built-in vs FluentValidation vs Data Annotations vs MiniValidation\n- [ ] Covers .NET 10 built-in validation: AddValidation(), [ValidatableType], source generator integration, Microsoft.Extensions.Validation\n- [ ] Covers FluentValidation: AbstractValidator<T>, DependencyInjectionExtensions, assembly scanning, manual validation pattern (NOT deprecated auto-validation)\n- [ ] Covers Data Annotations: standard attributes ([Required], [Range], [RegularExpression], [StringLength]), custom ValidationAttribute, IValidatableObject\n- [ ] Covers endpoint filters for validation in Minimal APIs\n- [ ] Covers error responses: ProblemDetails, ValidationProblem, IProblemDetailsService customization\n- [ ] Covers security-focused validation: ReDoS prevention (Regex timeout, [GeneratedRegex]), allowlist patterns, max length enforcement, file upload validation\n- [ ] Cross-references `[skill:dotnet-security-owasp]` for OWASP injection prevention\n- [ ] Cross-references `[skill:dotnet-architecture-patterns]` for architectural validation strategy\n- [ ] Cross-references `[skill:dotnet-minimal-apis]` for API pipeline integration\n- [ ] Explicit scope boundary: fn-8 owns security principles, fn-5 owns architectural patterns, fn-11 owns practical validation framework guidance\n- [ ] Skill registered in `.claude-plugin/plugin.json` skills array\n- [ ] Skill added to `dotnet-advisor` catalog (category 6: API Development) and routing logic\n- [ ] `./scripts/validate-skills.sh` passes\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    }
  ]
}
