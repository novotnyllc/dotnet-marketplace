{
  "created_at": "2026-02-12T22:31:02.046968Z",
  "epic": {
    "data": {
      "branch_name": "fn-27-roslyn-analyzer-authoring-skills",
      "completion_review_status": "unknown",
      "completion_reviewed_at": null,
      "created_at": "2026-02-12T22:25:45.970076Z",
      "default_impl": null,
      "default_review": null,
      "default_sync": null,
      "depends_on_epics": [
        "fn-2-plugin-skeleton-and-infrastructure"
      ],
      "id": "fn-27-roslyn-analyzer-authoring-skills",
      "next_task": 1,
      "plan_review_status": "unknown",
      "plan_reviewed_at": null,
      "spec_path": ".flow/specs/fn-27-roslyn-analyzer-authoring-skills.md",
      "status": "open",
      "title": "Roslyn Analyzer Authoring Skills",
      "updated_at": "2026-02-12T22:26:42.639711Z"
    },
    "spec": "# fn-27: Roslyn Analyzer Authoring Skills\n\n## Overview\nDelivers a skill for writing custom Roslyn analyzers, code fix providers, and diagnostic suppressors. This is an **authoring** skill teaching how to build Roslyn compiler extensions \u2014 distinct from fn-4's `dotnet-add-analyzers` (configuring/consuming existing analyzers) and fn-3's `dotnet-csharp-source-generators` (authoring source generators).\n\n## Scope\n**Skills (1 total):**\n- `dotnet-roslyn-analyzers` \u2014 Writing custom DiagnosticAnalyzers, CodeFixProviders, and DiagnosticSuppressors: project setup (netstandard2.0), DiagnosticDescriptor conventions (IDs, categories, severity, helpLinkUri), analysis context registration, code fix actions, testing with Microsoft.CodeAnalysis.Testing, NuGet packaging under `analyzers/dotnet/cs/` layout, performance best practices\n\n## Scope Boundaries\n\n| Concern | fn-27 owns (authoring) | Other epic owns | Enforcement |\n|---|---|---|---|\n| Analyzer configuration | N/A \u2014 cross-references `[skill:dotnet-add-analyzers]` | fn-4: configuring CA rules, EditorConfig severity, third-party analyzers | Grep validates cross-ref presence |\n| Source generators | N/A \u2014 cross-references `[skill:dotnet-csharp-source-generators]` | fn-3: IIncrementalGenerator, syntax/semantic analysis for generation | Grep validates cross-ref presence |\n| NuGet packaging | Analyzer-specific NuGet layout (`analyzers/dotnet/cs/`, `IncludeBuildOutput=false`) | fn-20: general NuGet publishing | Cross-ref to fn-20 when it lands |\n| Testing | Analyzer-specific testing (CSharpAnalyzerVerifier, CSharpCodeFixVerifier) | fn-7: general testing strategy and frameworks | Cross-ref to `[skill:dotnet-testing-strategy]` |\n| Code smells | N/A | fn-26: which patterns to detect during review | Cross-ref to `[skill:dotnet-csharp-code-smells]` when it lands |\n| DiagnosticDescriptor conventions | **Canonical owner** \u2014 ID naming (prefix conventions), categories, severity selection, helpLinkUri patterns | fn-3 source generators: cross-references fn-27 for diagnostic conventions | Grep validates fn-3 cross-ref |\n\n## Key Context\n- Analyzers MUST target `netstandard2.0` \u2014 the compiler loads analyzers on various runtimes (Mono, .NET Framework, .NET Core); targeting net8.0+ breaks VS/MSBuild compatibility\n- Analyzers and source generators share the same NuGet packaging layout (`analyzers/dotnet/cs/`) and `Microsoft.CodeAnalysis.CSharp` dependency, but serve different purposes: analyzers report diagnostics, generators emit code\n- `Microsoft.CodeAnalysis.Testing` provides high-level test infrastructure (`CSharpAnalyzerVerifier<T>`, `CSharpCodeFixVerifier<T,TFix>`) that is more ergonomic than raw `CSharpCompilation` testing\n- Performance is critical: analyzers run in real-time during editing. Avoid allocations in `RegisterSyntaxNodeAction`, prefer `SymbolKind`-based filtering, use `ImmutableArray` for supported diagnostics\n- DiagnosticSuppressor is an advanced feature for conditionally suppressing diagnostics from other analyzers (e.g., suppressing CA1062 when a custom null-check pattern is used)\n- Multi-analyzer NuGet packages should separate analyzer and code fix assemblies for faster IDE load when fixes aren't needed\n- Common Roslyn analyzer diagnostics (RS1001, RS1004, RS1025) flag issues in analyzer code itself \u2014 the skill should document these meta-diagnostics\n\n## Cross-Reference Matrix\n| Skill | Required Outbound Refs |\n|---|---|\n| `dotnet-roslyn-analyzers` | `[skill:dotnet-csharp-source-generators]`, `[skill:dotnet-add-analyzers]`, `[skill:dotnet-testing-strategy]`, `[skill:dotnet-csharp-coding-standards]` |\n\n## Quick Commands\n```bash\n# Validate skill exists with frontmatter\ntest -f \"skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md\" && echo \"OK\" || echo \"MISSING\"\n\n# Validate frontmatter has required fields\ngrep -q \"^name:\" \"skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md\" && \\\ngrep -q \"^description:\" \"skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md\" && \\\necho \"OK\" || echo \"MISSING FRONTMATTER\"\n\n# Verify netstandard2.0 targeting documented\ngrep -i \"netstandard2.0\" skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md\n\n# Verify DiagnosticAnalyzer coverage\ngrep -i \"DiagnosticAnalyzer\" skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md\n\n# Verify CodeFixProvider coverage\ngrep -i \"CodeFixProvider\" skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md\n\n# Verify testing coverage\ngrep -i \"CSharpAnalyzerVerifier\\|CSharpCodeFixVerifier\" skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md\n\n# Verify cross-references per matrix\ngrep \"skill:dotnet-csharp-source-generators\" skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md\ngrep \"skill:dotnet-add-analyzers\" skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md\ngrep \"skill:dotnet-testing-strategy\" skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md\n\n# Verify skill registered in plugin.json\ngrep \"skills/core-csharp/dotnet-roslyn-analyzers\" .claude-plugin/plugin.json\n\n# Verify advisor catalog entry\ngrep \"skill:dotnet-roslyn-analyzers\" skills/foundation/dotnet-advisor/SKILL.md\n\n# Run validation\n./scripts/validate-skills.sh\n```\n\n## Acceptance Criteria\n1. Skill exists at `skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md` with `name` and `description` frontmatter\n2. Covers DiagnosticAnalyzer authoring: project setup (netstandard2.0, Microsoft.CodeAnalysis.CSharp), analysis context registration (RegisterSyntaxNodeAction, RegisterSymbolAction, RegisterOperationAction), DiagnosticDescriptor conventions\n3. Covers CodeFixProvider authoring: code fix registration, CodeAction creation, document/solution modification, equivalence key patterns\n4. Covers DiagnosticSuppressor: when to use (suppress third-party diagnostics conditionally), SuppressionDescriptor, ReportSuppression\n5. Covers testing with Microsoft.CodeAnalysis.Testing: CSharpAnalyzerVerifier, CSharpCodeFixVerifier, diagnostic location markup syntax (`[|...|]`, `{|ID:...|}`), multi-file test scenarios\n6. Covers NuGet packaging: `analyzers/dotnet/cs/` layout, `IncludeBuildOutput=false`, separating analyzer and code fix assemblies, pack verification\n7. Covers performance best practices: avoid allocations in hot paths, prefer symbol-based over syntax-based analysis where possible, incremental analysis patterns\n8. Documents common Roslyn SDK meta-diagnostics (RS1001, RS1004, RS1025) that flag issues in analyzer code\n9. Explicit scope boundary with `[skill:dotnet-csharp-source-generators]` (generators) and `[skill:dotnet-add-analyzers]` (consuming)\n10. Cross-references validated per matrix using grep\n11. Skill registered in `.claude-plugin/plugin.json` skills array\n12. Skill added to `dotnet-advisor` catalog (category 2) and routing logic\n13. `./scripts/validate-skills.sh` passes\n\n## Test Notes\n- Verify skill distinguishes analyzer authoring from source generator authoring\n- Test that netstandard2.0 targeting is emphasized with explanation of why\n- Validate testing section shows both analyzer-only and analyzer+codefix test patterns\n- Confirm NuGet packaging section shows correct directory layout\n- Verify performance section warns about RegisterSyntaxNodeAction allocation patterns\n- Verify DiagnosticDescriptor conventions include ID prefix guidance, category naming, severity selection rationale\n\n## References\n- Tutorial: Write your first analyzer and code fix: https://learn.microsoft.com/en-us/dotnet/csharp/roslyn-sdk/tutorials/how-to-write-csharp-analyzer-code-fix\n- Roslyn SDK: https://learn.microsoft.com/en-us/dotnet/csharp/roslyn-sdk/\n- Microsoft.CodeAnalysis.Testing: https://github.com/dotnet/roslyn-sdk/tree/main/src/Microsoft.CodeAnalysis.Testing\n- Analyzer NuGet packaging: https://learn.microsoft.com/en-us/nuget/guides/analyzers-conventions\n- dotnet/roslyn-analyzers: https://github.com/dotnet/roslyn-analyzers\n- Meziantou.Analyzer (exemplar): https://github.com/meziantou/Meziantou.Analyzer\n"
  },
  "epic_id": "fn-27-roslyn-analyzer-authoring-skills",
  "schema_version": 2,
  "tasks": [
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-02-12T22:26:49.409998Z",
        "depends_on": [],
        "epic": "fn-27-roslyn-analyzer-authoring-skills",
        "id": "fn-27-roslyn-analyzer-authoring-skills.1",
        "priority": null,
        "spec_path": ".flow/tasks/fn-27-roslyn-analyzer-authoring-skills.1.md",
        "status": "todo",
        "title": "Create dotnet-roslyn-analyzers skill",
        "updated_at": "2026-02-12T22:27:16.722947Z"
      },
      "id": "fn-27-roslyn-analyzer-authoring-skills.1",
      "runtime": null,
      "spec": "# fn-27-roslyn-analyzer-authoring-skills.1 Create dotnet-roslyn-analyzers skill\n\n## Description\nCreate the `dotnet-roslyn-analyzers` skill covering custom Roslyn analyzer authoring: DiagnosticAnalyzer, CodeFixProvider, DiagnosticSuppressor, testing, and NuGet packaging.\n\n**Size:** M\n**Files:**\n- `skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md` (new)\n\n## Approach\n- Follow existing skill patterns at `skills/core-csharp/dotnet-csharp-source-generators/SKILL.md` for structure and frontmatter conventions\n- Use `[skill:...]` cross-reference syntax per fn-2 conventions\n- Reference `skills/project-structure/dotnet-add-analyzers/SKILL.md` for scope boundary (that skill covers *consuming*; this covers *authoring*)\n- Reference `skills/core-csharp/dotnet-csharp-source-generators/SKILL.md` lines 466-491 for shared Roslyn packaging concepts (cross-ref, don't duplicate)\n\n## Key context\n- Skill MUST be comprehensive: DiagnosticAnalyzer (syntax/symbol/operation analysis), CodeFixProvider (code actions, document editing), DiagnosticSuppressor (conditional suppression)\n- DiagnosticDescriptor conventions: fn-27 is canonical owner \u2014 ID prefix patterns (e.g., `MYLIB001`), category naming, severity selection rationale, helpLinkUri patterns\n- Testing: use Microsoft.CodeAnalysis.Testing high-level API (`CSharpAnalyzerVerifier<T>`, `CSharpCodeFixVerifier<T,TFix>`) as primary, not raw CSharpCompilation\n- Performance: critical section \u2014 analyzers run in real-time. Document allocation-free patterns for RegisterSyntaxNodeAction callbacks\n- NuGet packaging: `analyzers/dotnet/cs/` layout, `IncludeBuildOutput=false`, separate analyzer and code fix assemblies\n- Meta-diagnostics: RS1001 (missing DiagnosticAnalyzer attribute), RS1004 (recommended API), RS1025 (concurrent dictionary)\n- Always target netstandard2.0 \u2014 explain WHY (compiler runtime compatibility across VS, MSBuild, CLI)\n- Pitfall from memory: source generator hint names must include namespace to avoid collisions (analogous for analyzer diagnostic IDs)\n- Pitfall from memory: skill code examples must list third-party NuGet packages explicitly\n## Acceptance\n- [ ] Skill file exists at `skills/core-csharp/dotnet-roslyn-analyzers/SKILL.md`\n- [ ] Frontmatter has `name: dotnet-roslyn-analyzers` and `description` (under 120 chars)\n- [ ] Covers DiagnosticAnalyzer: project setup (netstandard2.0), RegisterSyntaxNodeAction, RegisterSymbolAction, RegisterOperationAction, DiagnosticDescriptor\n- [ ] Covers CodeFixProvider: RegisterCodeFixesAsync, CodeAction creation, document/solution modification, equivalence keys\n- [ ] Covers DiagnosticSuppressor: SuppressionDescriptor, ReportSuppression, when to use vs. EditorConfig\n- [ ] Covers DiagnosticDescriptor conventions: ID prefix patterns, categories, severity selection, helpLinkUri\n- [ ] Covers testing: CSharpAnalyzerVerifier, CSharpCodeFixVerifier, diagnostic markup syntax, multi-file scenarios\n- [ ] Covers NuGet packaging: analyzers/dotnet/cs/ layout, IncludeBuildOutput=false, separate assemblies\n- [ ] Covers performance: allocation-free callbacks, symbol-based filtering, ImmutableArray for SupportedDiagnostics\n- [ ] Documents RS1001, RS1004, RS1025 meta-diagnostics\n- [ ] Cross-references `[skill:dotnet-csharp-source-generators]`, `[skill:dotnet-add-analyzers]`, `[skill:dotnet-testing-strategy]`, `[skill:dotnet-csharp-coding-standards]`\n- [ ] Explicit scope boundary statement: authoring vs. consuming vs. source generators\n- [ ] Does NOT touch plugin.json (handled by fn-27.2)\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-02-12T22:26:54.122516Z",
        "depends_on": [
          "fn-27-roslyn-analyzer-authoring-skills.1"
        ],
        "epic": "fn-27-roslyn-analyzer-authoring-skills",
        "id": "fn-27-roslyn-analyzer-authoring-skills.2",
        "priority": null,
        "spec_path": ".flow/tasks/fn-27-roslyn-analyzer-authoring-skills.2.md",
        "status": "todo",
        "title": "Register skill, update advisor catalog, and validate",
        "updated_at": "2026-02-12T22:27:30.367565Z"
      },
      "id": "fn-27-roslyn-analyzer-authoring-skills.2",
      "runtime": null,
      "spec": "# fn-27-roslyn-analyzer-authoring-skills.2 Register skill, update advisor catalog, and validate\n\n## Description\nRegister the `dotnet-roslyn-analyzers` skill in plugin.json, add it to the dotnet-advisor catalog and routing logic, and run validation.\n\n**Size:** S (combined with integration work to reach M)\n**Files:**\n- `.claude-plugin/plugin.json` (modify \u2014 add skill path)\n- `skills/foundation/dotnet-advisor/SKILL.md` (modify \u2014 add catalog entry + routing)\n\n## Approach\n- Add `\"skills/core-csharp/dotnet-roslyn-analyzers\"` to plugin.json skills array\n- Add catalog entry under category \"2. Core C# & Language Patterns\" in dotnet-advisor SKILL.md: `- [skill:dotnet-roslyn-analyzers] -- custom DiagnosticAnalyzer, CodeFixProvider, testing, NuGet packaging`\n- Add routing entry under \"### Writing or Modifying C# Code\" section: `- Custom analyzers/code fixes -> [skill:dotnet-roslyn-analyzers]`\n- Run `./scripts/validate-skills.sh` and `./scripts/validate-marketplace.sh`\n- Verify skill name uniqueness repo-wide: `grep -rh \"^name:\" skills/*/*/SKILL.md | sort | uniq -d` (expect empty)\n\n## Key context\n- Follow convention at `skills/foundation/dotnet-advisor/SKILL.md` lines 24-41 for catalog entry format\n- Follow routing convention at lines 173-180 for routing entry format\n- Pitfall from memory: always register skills in plugin.json \u2014 files on disk without registration are invisible\n- Pitfall from memory: cross-reference skill IDs must use canonical names \u2014 verify with grep against actual name: field\n## Acceptance\n- [ ] `\"skills/core-csharp/dotnet-roslyn-analyzers\"` added to plugin.json skills array\n- [ ] Catalog entry added to dotnet-advisor under category 2 with `[skill:dotnet-roslyn-analyzers]` syntax\n- [ ] Routing entry added to dotnet-advisor routing logic section\n- [ ] `./scripts/validate-skills.sh` passes (BUDGET_STATUS=OK)\n- [ ] `./scripts/validate-marketplace.sh` passes\n- [ ] Skill name uniqueness verified repo-wide (no duplicates)\n- [ ] No duplicate skill descriptions across dotnet-advisor catalog\n## Done summary\nTBD\n\n## Evidence\n- Commits:\n- Tests:\n- PRs:\n"
    }
  ]
}
