{
  "created_at": "2026-02-15T00:38:59.687372Z",
  "epic": {
    "data": {
      "branch_name": "fn-28-skill-authoring-how-to-manual-from",
      "completion_review_status": "unknown",
      "completion_reviewed_at": null,
      "created_at": "2026-02-14T21:22:21.794613Z",
      "default_impl": null,
      "default_review": null,
      "default_sync": null,
      "depends_on_epics": [],
      "id": "fn-28-skill-authoring-how-to-manual-from",
      "next_task": 1,
      "plan_review_status": "ship",
      "plan_reviewed_at": "2026-02-15T00:17:35.753746Z",
      "spec_path": ".flow/specs/fn-28-skill-authoring-how-to-manual-from.md",
      "status": "open",
      "title": "Skill Authoring How-To Manual from Anthropic Guide",
      "updated_at": "2026-02-15T00:17:35.753897Z"
    },
    "spec": "# fn-10: Version Detection & Multi-Targeting\n\n## Overview\nDelivers two skills that build on the existing `dotnet-version-detection` foundation skill: multi-targeting strategies with polyfill emphasis, and .NET version upgrade guidance.\n\n**Responsibility boundary:** `dotnet-version-detection` (fn-2/foundation) owns all detection logic (TFM resolution, SDK version, preview feature flags). This epic's skills **consume** detected outputs and provide strategy/guidance only \u2014 they never re-implement detection.\n\n## Scope\n**Skills (2):**\n- `dotnet-multi-targeting` \u2192 `skills/multi-targeting/dotnet-multi-targeting/SKILL.md` \u2014 Multi-targeting strategies with polyfill-first approach: PolySharp, SimonCropp/Polyfill, conditional compilation for runtime gaps, API compat analyzers\n- `dotnet-version-upgrade` \u2192 `skills/multi-targeting/dotnet-version-upgrade/SKILL.md` \u2014 Modern .NET version upgrades with defined upgrade lanes and polyfill bridge strategies\n\n## Key Context\n- `dotnet-version-detection` already handles TFM detection from .csproj, Directory.Build.props, global.json and cross-references both new skills\n- New skills consume the structured output from version detection and provide actionable guidance\n- PolySharp and SimonCropp/Polyfill enable latest C# language features on older TFMs (compile-time polyfills)\n- Conditional compilation (`#if`) remains necessary for runtime/API behavior gaps that polyfills cannot cover\n- API compatibility analyzers (`EnablePackageValidation`, `ApiCompat`) validate multi-targeting correctness\n\n### Decision Matrix: Polyfill vs Conditional Compilation\n| Gap Type | Strategy | Example |\n|----------|----------|---------|\n| Language/syntax feature | Polyfill (PolySharp/Polyfill) | `required` modifier, `init` properties, collection expressions on net8.0 |\n| BCL API addition | Polyfill if available, else `#if` | `System.Threading.Lock` on net8.0 via Polyfill |\n| Runtime behavior difference | Conditional compilation or adapter | Runtime-async (net11.0 only), different GC modes |\n| Platform API divergence | Conditional compilation with `[SupportedOSPlatform]` | Windows-only APIs, Android-specific features |\n\n### Upgrade Lanes\n| Lane | Path | Use Case |\n|------|------|----------|\n| Production (default) | net8.0 \u2192 net10.0 | LTS-to-LTS, recommended for most apps |\n| Staged production | net8.0 \u2192 net9.0 \u2192 net10.0 | When ecosystem dependencies require incremental migration |\n| Experimental | net10.0 \u2192 net11.0 (preview) | Non-production only, exploring upcoming features |\n\n**.NET 9 note:** While .NET 9 is STS and approaching end-of-support (May 2026), staging through .NET 9 may be necessary when third-party packages or breaking changes require incremental migration.\n\n## Quick Commands\n```bash\n# Smoke test: verify polyfill coverage in multi-targeting skill\ngrep -i \"PolySharp\\|Polyfill\" skills/multi-targeting/dotnet-multi-targeting/SKILL.md\n\n# Verify decision matrix in multi-targeting skill\ngrep -i \"conditional\\|#if\\|polyfill\" skills/multi-targeting/dotnet-multi-targeting/SKILL.md\n\n# Test upgrade guidance lanes\ngrep -i \"upgrade\\|migration\\|lane\" skills/multi-targeting/dotnet-version-upgrade/SKILL.md\n\n# Verify cross-references\ngrep -i \"\\[skill:\" skills/multi-targeting/*/SKILL.md\n```\n\n## Acceptance Criteria\n1. Both skills written following the standard pattern (frontmatter with `name`+`description`, overview, detailed sections, gotchas, prerequisites, references, cross-references)\n2. Multi-targeting skill includes decision matrix for polyfill vs conditional compilation vs adapter patterns\n3. Multi-targeting skill documents PolySharp and SimonCropp/Polyfill with concrete package references, setup examples, and feature coverage\n4. Multi-targeting skill documents API compatibility validation workflow: `EnablePackageValidation`, `ApiCompat` baseline, pass/fail criteria\n5. Version upgrade skill defines three upgrade lanes (production LTS\u2192LTS, staged through STS, experimental preview) with explicit guardrails\n6. Version upgrade skill covers .NET 9 as a staging option (not skipped), with STS end-of-support context\n7. Both skills consume output from `dotnet-version-detection` \u2014 no re-implementation of TFM detection logic\n8. Cross-references: both skills link to `[skill:dotnet-version-detection]`; `dotnet-version-detection` already links back via `[skill:dotnet-multi-targeting]` and `[skill:dotnet-version-upgrade]`\n9. Skills placed in `skills/multi-targeting/` directory (both skills share this category)\n\n## File Ownership (Parallelization)\nTasks touch **disjoint** files:\n- **fn-10.1**: `skills/multi-targeting/dotnet-multi-targeting/SKILL.md` (creates)\n- **fn-10.2**: `skills/multi-targeting/dotnet-version-upgrade/SKILL.md` (creates)\n\nNo shared file edits needed \u2014 tasks can run fully in parallel.\n\n## Test Notes\n- Verify multi-targeting skill provides correct guidance for sample scenarios:\n  - Single TFM net8.0 project wanting C# 14 features \u2192 PolySharp/Polyfill\n  - Multi-TFM `net8.0;net10.0` project \u2192 polyfill for language features + `#if` for runtime gaps\n  - net11.0 preview with `EnablePreviewFeatures` \u2192 experimental lane guidance\n  - Mismatched global.json/csproj \u2192 consume warning from version-detection, add upgrade guidance\n- Verify upgrade skill provides correct lane selection for:\n  - net8.0 LTS \u2192 net10.0 LTS (direct upgrade)\n  - net8.0 with ecosystem constraints \u2192 staged through net9.0\n  - net10.0 \u2192 net11.0 preview (non-production only)\n- Validate cross-references resolve correctly (no broken `[skill:...]` links)\n- Verify no duplication of detection logic from `dotnet-version-detection`\n\n## References\n- PolySharp: https://github.com/Sergio0694/PolySharp\n- SimonCropp Polyfill: https://github.com/SimonCropp/Polyfill\n- .NET Multi-Targeting: https://learn.microsoft.com/en-us/dotnet/standard/frameworks\n- .NET Upgrade Assistant: https://dotnet.microsoft.com/en-us/platform/upgrade-assistant\n- Package Validation: https://learn.microsoft.com/en-us/dotnet/fundamentals/package-validation/overview\n- API Compatibility: https://learn.microsoft.com/en-us/dotnet/fundamentals/apicompat/overview\n"
  },
  "epic_id": "fn-28-skill-authoring-how-to-manual-from",
  "schema_version": 2,
  "tasks": [
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-02-14T21:23:31.634391Z",
        "depends_on": [],
        "epic": "fn-28-skill-authoring-how-to-manual-from",
        "id": "fn-28-skill-authoring-how-to-manual-from.1",
        "priority": null,
        "spec_path": ".flow/tasks/fn-28-skill-authoring-how-to-manual-from.1.md",
        "status": "todo",
        "title": "Create CONTRIBUTING-SKILLS.md how-to manual",
        "updated_at": "2026-02-15T00:16:35.241580Z"
      },
      "id": "fn-28-skill-authoring-how-to-manual-from.1",
      "runtime": {
        "assignee": "claire@novotny.org",
        "claim_note": "",
        "claimed_at": "2026-02-14T21:25:23.627080Z",
        "evidence": {
          "commits": [
            "0d34fff1f4fa4b6fad2895bf174086688751146b"
          ],
          "prs": [],
          "tests": [
            "./scripts/validate-skills.sh",
            "./scripts/validate-marketplace.sh",
            "python3 scripts/generate_dist.py --strict",
            "python3 scripts/validate_cross_agent.py"
          ]
        },
        "status": "done",
        "updated_at": "2026-02-15T00:27:09.247753Z"
      },
      "spec": "# fn-28-skill-authoring-how-to-manual-from.1 Create CONTRIBUTING-SKILLS.md how-to manual\n\n## Description\n\nCreate `CONTRIBUTING-SKILLS.md` at the repo root. Merge Anthropic's \"The Complete Guide to Building Skills for Claude\" (all 6 chapters) with dotnet-artisan conventions into a single actionable how-to manual with 8 sections:\n\n1. **Quick Start** \u2014 Create a skill in 5 minutes using `skills/core-csharp/dotnet-csharp-code-smells/` as the walkthrough example\n2. **Skill Anatomy** \u2014 Folder structure (`skills/<category>/<skill-name>/SKILL.md`), SKILL.md format, frontmatter (`name`, `description`), optional companion files (`details.md` for extended content)\n3. **Writing Effective Descriptions** \u2014 Formula (`[What] + [When] + [Triggers]`), good/bad examples, 120-char target, context budget math\n4. **Writing Instructions** \u2014 Progressive disclosure (frontmatter \u2192 body \u2192 linked files), cross-reference syntax (`[skill:skill-name]`), patterns, 5,000-word SKILL.md limit\n5. **Testing Your Skill** \u2014 Triggering tests, functional tests, all four validation commands with explanations\n6. **Common Patterns** \u2014 The 5 patterns from the guide adapted to .NET context (sequential workflow, multi-MCP, iterative refinement, context-aware tool selection, domain-specific intelligence)\n7. **Troubleshooting** \u2014 SKILL.md casing, YAML formatting, triggering issues, plus repo-specific issues (description budget, cross-reference resolution)\n8. **Checklist** \u2014 Pre-commit checklist including: create folder, write SKILL.md with frontmatter, add to `plugin.json` skills array, run all four validation commands\n\nTarget under 3,000 words. Use progressive disclosure \u2014 link to external references (Anthropic guide, existing skills) rather than inlining everything.\n\n## Acceptance\n\n- [ ] `CONTRIBUTING-SKILLS.md` exists at repo root\n- [ ] Contains all 8 sections listed above\n- [ ] Covers content from all 6 Anthropic guide chapters\n- [ ] Examples adapted to .NET/dotnet-artisan context (not generic)\n- [ ] Documents `details.md` companion file convention\n- [ ] Checklist includes plugin.json registration step\n- [ ] Cross-references CONTRIBUTING.md for general contribution workflow\n- [ ] Under 3,000 words total\n- [ ] All four validation commands pass (regression guard \u2014 adding a new markdown file should not break anything)\n\n## Files\n\n- `CONTRIBUTING-SKILLS.md` (new)\n\n## Done summary\nCreated CONTRIBUTING-SKILLS.md at repo root with 8 sections covering skill authoring for dotnet-artisan: Quick Start, Skill Anatomy, Writing Effective Descriptions, Writing Instructions, Testing Your Skill, Common Patterns, Troubleshooting, and Pre-Commit Checklist. The guide adapts Anthropic's skill authoring guide to dotnet-artisan conventions at 1,701 words (under the 3,000 word target).\n## Evidence\n- Commits: 0d34fff1f4fa4b6fad2895bf174086688751146b\n- Tests: ./scripts/validate-skills.sh, ./scripts/validate-marketplace.sh, python3 scripts/generate_dist.py --strict, python3 scripts/validate_cross_agent.py\n- PRs:"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-02-14T21:23:35.583359Z",
        "depends_on": [],
        "epic": "fn-28-skill-authoring-how-to-manual-from",
        "id": "fn-28-skill-authoring-how-to-manual-from.2",
        "priority": null,
        "spec_path": ".flow/tasks/fn-28-skill-authoring-how-to-manual-from.2.md",
        "status": "todo",
        "title": "Update CONTRIBUTING.md to reference skills guide",
        "updated_at": "2026-02-15T00:16:42.673597Z"
      },
      "id": "fn-28-skill-authoring-how-to-manual-from.2",
      "runtime": {
        "assignee": "claire@novotny.org",
        "claim_note": "",
        "claimed_at": "2026-02-15T00:31:10.028100Z",
        "evidence": {
          "commits": [
            "f348651c089355ae528525e371fe0250ac924151"
          ],
          "prs": [],
          "tests": [
            "./scripts/validate-skills.sh",
            "./scripts/validate-marketplace.sh",
            "python3 scripts/generate_dist.py --strict",
            "python3 scripts/validate_cross_agent.py"
          ]
        },
        "status": "done",
        "updated_at": "2026-02-15T00:35:13.101257Z"
      },
      "spec": "# fn-28-skill-authoring-how-to-manual-from.2 Update cross-references to skills guide\n\n## Description\n\nAdd a prominent cross-reference to `CONTRIBUTING-SKILLS.md` in `CONTRIBUTING.md` so contributors can discover the skills-specific guide. Also verify and update references in `CLAUDE.md` and `AGENTS.md`:\n\n- **CONTRIBUTING.md**: Add a section or callout near the top of the \"Skill Authoring Guide\" section directing readers to `CONTRIBUTING-SKILLS.md` for the comprehensive how-to manual. The existing skill authoring content in CONTRIBUTING.md should remain (it serves as a quick reference), but should note that the full guide is in CONTRIBUTING-SKILLS.md.\n- **CLAUDE.md**: Update the References section to mention `CONTRIBUTING-SKILLS.md` alongside `CONTRIBUTING.md`.\n- **AGENTS.md**: Verify the existing reference to \"Skill authoring guide\" in CONTRIBUTING.md is still accurate; update if needed to also mention CONTRIBUTING-SKILLS.md.\n\n## Acceptance\n\n- [ ] CONTRIBUTING.md contains a visible cross-reference to CONTRIBUTING-SKILLS.md\n- [ ] CLAUDE.md References section mentions CONTRIBUTING-SKILLS.md\n- [ ] AGENTS.md references verified and updated if needed\n- [ ] All four validation commands still pass\n- [ ] Cross-references use correct relative paths (no broken links)\n\n## Files\n\n- `CONTRIBUTING.md` (edit)\n- `CLAUDE.md` (edit, if needed)\n- `AGENTS.md` (edit, if needed)\n\n## Done summary\nAdded cross-references to CONTRIBUTING-SKILLS.md in CONTRIBUTING.md (blockquote callout in Skill Authoring Guide section), CLAUDE.md (References section), and AGENTS.md (Cross-References section) so contributors can discover the comprehensive skill authoring how-to manual.\n## Evidence\n- Commits: f348651c089355ae528525e371fe0250ac924151\n- Tests: ./scripts/validate-skills.sh, ./scripts/validate-marketplace.sh, python3 scripts/generate_dist.py --strict, python3 scripts/validate_cross_agent.py\n- PRs:"
    }
  ]
}
