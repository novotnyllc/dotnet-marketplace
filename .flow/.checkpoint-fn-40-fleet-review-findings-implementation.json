{
  "created_at": "2026-02-16T21:38:31.298700Z",
  "epic": {
    "data": {
      "branch_name": "fn-40-fleet-review-findings-implementation",
      "completion_review_status": "unknown",
      "completion_reviewed_at": null,
      "created_at": "2026-02-15T23:02:45.252698Z",
      "default_impl": null,
      "default_review": null,
      "default_sync": null,
      "depends_on_epics": [
        "fn-37-skill-cleanup-sweep"
      ],
      "id": "fn-40-fleet-review-findings-implementation",
      "next_task": 1,
      "plan_review_status": "ship",
      "plan_reviewed_at": "2026-02-15T23:11:00.215871Z",
      "spec_path": ".flow/specs/fn-40-fleet-review-findings-implementation.md",
      "status": "open",
      "title": "Fleet Review Findings Implementation",
      "updated_at": "2026-02-15T23:11:00.216037Z"
    },
    "spec": "# Fleet Review Findings Implementation\n\n## Overview\n\nThe fleet skill review (fn-29) audited all skills against an 11-dimension rubric and produced a consolidated findings report with 82 issues (20 Critical, 31 High, 31 Low). Most findings have been organically fixed through subsequent epics fn-30 through fn-36. This epic implements the remaining work: trimming the aggregate description budget below the WARN threshold, updating the stale `--projected-skills` parameter, and updating documentation to reflect the current state.\n\n**Depends on:** fn-37 (Skill Cleanup Sweep) which handles fn-N reference removal, .gitkeep cleanup, broken cross-refs, and other mechanical cleanup. fn-37 modifies SKILL.md **body content** (fn-N references, cross-refs); this epic modifies SKILL.md **frontmatter** (descriptions) and documentation files. These are disjoint edits within the same files. fn-37 should complete first to avoid merge conflicts; if running in parallel, rebase after fn-37 merges.\n\n## Current state (post fn-30 through fn-36)\n\n- **Already fixed:** All descriptions under 120 chars individually, broken cross-refs resolved, stale markers removed, Agent Gotchas gaps filled, multi-targeting skills registered, xUnit v3 IAsyncLifetime corrected, grep portability fixed\n- **Remaining:** Aggregate description budget at ~12,645 chars (WARN threshold is 12,000). The 14 new skills added by fn-30-fn-36 were never reviewed against the rubric. Documentation counts are stale. The `--projected-skills 100` parameter in `validate-skills.sh` is stale (actual count is 113).\n\n## Budget math\n\n- 113 registered skills x 120 chars max = 13,560 chars theoretical maximum\n- Current: ~12,645 chars (WARN). Need to trim ~645+ chars.\n- `validate-skills.sh` thresholds: `--warn-threshold 12000 --fail-threshold 15000`\n- Target: average ~106 chars/skill to comfortably stay below 12K\n- Alternative: if trimming alone cannot reach below 12,000 without degrading triggering quality, raise `--warn-threshold` to at most 13,000 (not the fail threshold) with documented rationale\n\n## Regression risk from concurrent epics\n\nfn-38 (Expert Domain Agents) and fn-39 (Skill Coverage Gap Fill) are open and may add skills concurrently. Each new skill increases the aggregate description budget. Task 1 must start by checking the actual skill count (`jq '.skills | length' .claude-plugin/plugin.json`) and re-derive the budget target if the count exceeds 113. If fn-38/fn-39 land first, the trimming targets may need to be more aggressive or the WARN threshold adjustment becomes more likely.\n\n## Quick commands\n\n```bash\n# Check current budget and skill count\n./scripts/validate-skills.sh 2>&1 | grep -E 'CURRENT_DESC_CHARS|BUDGET_STATUS|WARN|REGISTERED_SKILLS'\njq '.skills | length' .claude-plugin/plugin.json\n\n# Full validation\n./scripts/validate-skills.sh && ./scripts/validate-marketplace.sh && python3 scripts/generate_dist.py --strict && python3 scripts/validate_cross_agent.py\n```\n\n## Acceptance\n\n- [ ] Aggregate description budget below 12,000 chars OR WARN threshold raised to at most 13,000 with documented rationale\n- [ ] All 14 skills from fn-30-fn-36 pass basic quality check (descriptions follow `[What] + [When]` formula, cross-refs use `[skill:]` syntax in both frontmatter and body)\n- [ ] `--projected-skills` in `validate-skills.sh` updated to match actual registered skill count\n- [ ] README.md, CLAUDE.md, AGENTS.md counts match actual registered skill count\n- [ ] CHANGELOG.md entry documents fleet review resolution\n- [ ] Fleet review docs (`docs/fleet-review-rubric.md`, `docs/review-reports/consolidated-findings.md`) annotated as historical snapshots\n- [ ] All 4 validation commands pass with zero errors and zero warnings (excluding budget WARN if threshold adjusted)\n\n## References\n\n- `docs/fleet-review-rubric.md` -- 11-dimension rubric with batch assignments\n- `docs/review-reports/consolidated-findings.md` -- 82 original findings (historical snapshot, many now resolved)\n- `scripts/_validate_skills.py` -- canonical budget measurement (L307-L363)\n- `scripts/validate-skills.sh` -- budget thresholds and `--projected-skills` parameter\n- `CONTRIBUTING-SKILLS.md` -- description formula, budget rules\n- `.flow/specs/fn-37-skill-cleanup-sweep.md` -- prerequisite epic covering fn-N removal\n"
  },
  "epic_id": "fn-40-fleet-review-findings-implementation",
  "schema_version": 2,
  "tasks": [
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-02-15T23:03:20.862166Z",
        "depends_on": [],
        "epic": "fn-40-fleet-review-findings-implementation",
        "id": "fn-40-fleet-review-findings-implementation.1",
        "priority": null,
        "spec_path": ".flow/tasks/fn-40-fleet-review-findings-implementation.1.md",
        "status": "todo",
        "title": "Trim skill descriptions for budget compliance",
        "updated_at": "2026-02-15T23:11:18.609629Z"
      },
      "id": "fn-40-fleet-review-findings-implementation.1",
      "runtime": {
        "assignee": "claire@novotny.org",
        "claim_note": "",
        "claimed_at": "2026-02-16T21:07:37.698957Z",
        "evidence": {
          "commits": [
            "4c1812431e5227d21a1a27b637d8a91ccf0a2527"
          ],
          "prs": [],
          "tests": [
            "./scripts/validate-skills.sh",
            "./scripts/validate-marketplace.sh",
            "python3 scripts/generate_dist.py --strict",
            "python3 scripts/validate_cross_agent.py"
          ]
        },
        "status": "done",
        "updated_at": "2026-02-16T21:21:03.254070Z"
      },
      "spec": "# fn-40-fleet-review-findings-implementation.1 Trim skill descriptions for budget compliance\n\n## Description\nTrim skill descriptions across all registered skills to bring the aggregate description budget below the 12,000-char WARN threshold. Also update the stale `--projected-skills` parameter and perform a quality check on the 14 skills added by fn-30 through fn-36.\n\n**Size:** M\n**Files:** All `skills/<category>/<skill-name>/SKILL.md` files (frontmatter only), `scripts/validate-skills.sh` (projected-skills parameter)\n\n## Approach\n\n1. **Precondition check:** Run `jq '.skills | length' .claude-plugin/plugin.json` to confirm the skill count. If count exceeds 113 (fn-38/fn-39 may have landed), re-derive the budget target before trimming.\n2. Run `./scripts/validate-skills.sh` to get current baseline (CURRENT_DESC_CHARS, per-skill lengths, BUDGET_STATUS)\n3. Sort descriptions by length descending -- trim the longest first for maximum impact\n4. For each description needing trimming:\n   - Remove filler words (\"comprehensive\", \"common\", \"best practices for\")\n   - Remove redundant WHEN NOT clauses (Claude infers negatives from positive triggers)\n   - Shorten trigger phrases while preserving domain-specific keywords\n   - Target average ~106 chars/skill to stay below 12K\n5. If budget cannot reach below 12K without degrading triggering quality, raise `--warn-threshold` in `validate-skills.sh` to at most 13,000 (not the fail threshold) with rationale documented in the commit message\n6. Update `--projected-skills` in `validate-skills.sh` from 100 to the actual registered skill count\n7. If fn-37 has not yet removed the internal budget comment in `dotnet-advisor/SKILL.md` (line 17, `<!-- Budget: PROJECTED_SKILLS_COUNT=100 -->`), update or remove it since it references a stale count\n8. Run `validate-skills.sh` after every 10-15 edits for incremental verification\n9. **Quality check for 14 new skills (fn-30-fn-36):** Scan both frontmatter (description follows `[What] + [When]` formula) and body content (`[skill:]` syntax for all cross-refs, zero bare-text skill names). If body-level quality issues are found beyond cross-ref syntax (e.g., missing Agent Gotchas, inconsistent structure), file them as follow-up issues rather than fixing them in this task.\n\n## Key context\n\n- Validator measures description length via Python `len()` after stripping YAML quotes -- use this as authoritative measurement, not `wc -c` (up to 2-char variance)\n- Descriptions must remain double-quoted in frontmatter (all currently are)\n- Don't introduce block scalars (`>` or `|`) -- validator handles them but they're non-standard for this project\n- fn-37 modifies SKILL.md body content; this task modifies frontmatter only. Disjoint edits but same files -- fn-37 should complete first to avoid merge conflicts.\n- fn-38/fn-39 may add skills concurrently. Start by checking actual count and budget rather than assuming 113 skills.\n## Approach\n\n1. **Precondition check:** Run `jq '.skills | length' .claude-plugin/plugin.json` to confirm the skill count. If count exceeds 113 (fn-38/fn-39 may have landed), re-derive the budget target before trimming.\n2. Run `./scripts/validate-skills.sh` to get current baseline (CURRENT_DESC_CHARS, per-skill lengths, BUDGET_STATUS)\n3. Sort descriptions by length descending -- trim the longest first for maximum impact\n4. For each description needing trimming:\n   - Remove filler words (\"comprehensive\", \"common\", \"best practices for\")\n   - Remove redundant WHEN NOT clauses (Claude infers negatives from positive triggers)\n   - Shorten trigger phrases while preserving domain-specific keywords\n   - Target average ~106 chars/skill to stay below 12K\n5. If budget cannot reach below 12K without degrading triggering quality, raise `--warn-threshold` in `validate-skills.sh` to at most 13,000 (not the fail threshold) with rationale documented in the commit message\n6. Update `--projected-skills` in `validate-skills.sh` from 100 to the actual registered skill count\n7. If fn-37 has not yet removed the internal budget comment in `dotnet-advisor/SKILL.md` (line 17, `<!-- Budget: PROJECTED_SKILLS_COUNT=100 -->`), update or remove it since it references a stale count\n8. Run `validate-skills.sh` after every 10-15 edits for incremental verification\n9. **Quality check for 14 new skills (fn-30-fn-36):** Scan both frontmatter (description follows `[What] + [When]` formula) and body content (`[skill:]` syntax for all cross-refs, zero bare-text skill names). If body-level quality issues are found beyond cross-ref syntax (e.g., missing Agent Gotchas, inconsistent structure), file them as follow-up issues rather than fixing them in this task.\n\n## Key context\n\n- Validator measures description length via Python `len()` after stripping YAML quotes -- use this as authoritative measurement, not `wc -c` (up to 2-char variance)\n- Descriptions must remain double-quoted in frontmatter (all currently are)\n- Don't introduce block scalars (`>` or `|`) -- validator handles them but they're non-standard for this project\n- fn-37 modifies SKILL.md body content; this task modifies frontmatter only. Disjoint edits but same files -- fn-37 should complete first to avoid merge conflicts.\n- fn-38/fn-39 may add skills concurrently. Start by checking actual count and budget rather than assuming 113 skills.\n## Approach\n\n1. Run `./scripts/validate-skills.sh` to get current baseline (CURRENT_DESC_CHARS, per-skill lengths)\n2. Sort descriptions by length descending -- trim the longest first for maximum impact\n3. For each description needing trimming:\n   - Remove filler words (\"comprehensive\", \"common\", \"best practices for\")\n   - Remove redundant WHEN NOT clauses (Claude infers negatives from positive triggers)\n   - Shorten trigger phrases while preserving domain-specific keywords\n   - Target average ~106 chars/skill (113 \u00d7 106 = 11,978, safely below 12K)\n4. If budget cannot reach below 12K without degrading triggering quality, document the case for raising `--warn-threshold` to 13,000 in `validate-skills.sh` (L43-L47) with rationale that 113 skills > the original 100-skill calibration\n5. Run `validate-skills.sh` after every 10-15 edits for incremental verification\n6. For the 14 new skills (fn-30-fn-36): verify descriptions follow `[What] + [When]` formula per `CONTRIBUTING-SKILLS.md` L113, verify all cross-refs use `[skill:]` syntax\n\n## Key context\n\n- Validator measures description length via Python `len()` after stripping YAML quotes -- use this as authoritative measurement, not `wc -c` (up to 2-char variance)\n- Descriptions must remain double-quoted in frontmatter (all 113 currently are)\n- Don't introduce block scalars (`>` or `|`) -- validator handles them but they're non-standard for this project\n- `[skill:name]` cross-refs inside descriptions are NOT common -- descriptions are short metadata, not prose. Cross-refs live in SKILL.md body.\n- The `--projected-skills 100` parameter in validate-skills.sh was calibrated for the original skill count. With 113 skills, budget pressure is structural.\n## Acceptance\n- [ ] Aggregate CURRENT_DESC_CHARS below 12,000 in `validate-skills.sh` output OR `--warn-threshold` raised to at most 13,000 with rationale in commit message\n- [ ] Zero individual descriptions over 120 chars (maintained from current state)\n- [ ] `--projected-skills` in `validate-skills.sh` updated to match actual registered skill count\n- [ ] All 14 skills from fn-30 through fn-36 verified: descriptions follow `[What] + [When]` formula\n- [ ] All 14 skills from fn-30 through fn-36 verified: cross-refs use `[skill:]` syntax in both frontmatter and body (zero bare-text skill names)\n- [ ] Body-level quality issues in new skills (if any) filed as follow-up, not blocking\n- [ ] Stale `dotnet-advisor` budget comment removed or updated (if fn-37 hasn't handled it)\n- [ ] `./scripts/validate-skills.sh` passes with zero errors\n- [ ] `python3 scripts/generate_dist.py --strict` passes (cross-ref validation)\n- [ ] No description trimming degrades triggering quality (reviewer judgment)\n## Done summary\nTrimmed 84 skill descriptions from 13,481 to 11,948 total chars (below 12,000 WARN threshold), updated --projected-skills from 100 to 121, and fixed 2 bare cross-refs in dotnet-library-api-compat to use [skill:] syntax. Quality-checked all 12 new skills from fn-30-fn-36: all follow [What]+[When] formula and use proper cross-ref syntax.\n## Evidence\n- Commits: 4c1812431e5227d21a1a27b637d8a91ccf0a2527\n- Tests: ./scripts/validate-skills.sh, ./scripts/validate-marketplace.sh, python3 scripts/generate_dist.py --strict, python3 scripts/validate_cross_agent.py\n- PRs:"
    },
    {
      "data": {
        "assignee": null,
        "claim_note": "",
        "claimed_at": null,
        "created_at": "2026-02-15T23:03:25.817013Z",
        "depends_on": [
          "fn-40-fleet-review-findings-implementation.1"
        ],
        "epic": "fn-40-fleet-review-findings-implementation",
        "id": "fn-40-fleet-review-findings-implementation.2",
        "priority": null,
        "spec_path": ".flow/tasks/fn-40-fleet-review-findings-implementation.2.md",
        "status": "todo",
        "title": "Update documentation and archive review artifacts",
        "updated_at": "2026-02-15T23:11:26.407770Z"
      },
      "id": "fn-40-fleet-review-findings-implementation.2",
      "runtime": {
        "assignee": "claire@novotny.org",
        "claim_note": "",
        "claimed_at": "2026-02-16T21:28:33.286335Z",
        "evidence": {
          "commits": [
            "63f2ecf1244d67d3303170da8bacfc839f643e80"
          ],
          "prs": [],
          "tests": [
            "./scripts/validate-skills.sh",
            "./scripts/validate-marketplace.sh",
            "python3 scripts/generate_dist.py --strict",
            "python3 scripts/validate_cross_agent.py"
          ]
        },
        "status": "done",
        "updated_at": "2026-02-16T21:34:12.201098Z"
      },
      "spec": "# fn-40-fleet-review-findings-implementation.2 Update documentation and archive review artifacts\n\n## Description\nUpdate all project documentation to reflect the current state after fleet review findings are resolved (task 1) and fn-37 cleanup is complete. Archive the fleet review rubric and consolidated findings as historical snapshots. Add a CHANGELOG entry documenting the resolution.\n\n**Size:** M\n**Files:**\n- `README.md` -- skill counts, category table, architecture diagram\n- `CLAUDE.md` -- skill count, budget numbers (including WARN threshold if adjusted in task 1)\n- `AGENTS.md` -- routing index counts, category table\n- `CHANGELOG.md` -- new entry under `[Unreleased]`\n- `docs/fleet-review-rubric.md` -- archive annotation\n- `docs/review-reports/consolidated-findings.md` -- archive annotation\n\n## Approach\n\n1. Run `./scripts/validate-skills.sh` to confirm final skill count (121) and budget numbers (11,948 chars)\n2. Verify README.md, CLAUDE.md, AGENTS.md all show \"121 skills across 22 categories\" (task 1 already updated these)\n3. Verify mermaid diagram skill counts in README.md are updated\n4. WARN threshold remains at 12,000 -- no adjustment needed (per task 1 done summary)\n5. Add CHANGELOG.md entry under `[Unreleased]` with concrete metrics from task 1:\n   - `### Changed`: Description budget trimmed from 13,481 to 11,948 chars (84 descriptions trimmed, removed filler words and redundant phrases)\n   - Include --projected-skills updated from 100 to 121 in validate-skills.sh\n   - Reference fn-29 (audit), fn-37 (cleanup), fn-40 (this epic)\n6. Add archive header to fleet review docs with completion date (2026-02-16):\n   ```markdown\n   > **Historical snapshot (completed 2026-02-16).** Most findings resolved by fn-30 through fn-40. See CHANGELOG.md for details.\n   ```\n7. Run all 4 validation commands\n8. Verify no regressions from fn-37 changes (`grep -r 'fn-[0-9]' skills/` should return zero hits if fn-37 completed)\n\n## Key context\n\n- Task 1 already updated README.md, CLAUDE.md, AGENTS.md to \"121 skills across 22 categories\" -- verify consistency, don't change\n- Task 1 metrics: budget 13,481 \u2192 11,948 chars (84 descriptions trimmed), --projected-skills updated to 121\n- WARN threshold remains 12,000 (not adjusted per task 1 done summary)\n- Task 1 quality-checked 12 new skills from fn-30-fn-36, all descriptions follow [What]+[When] formula with proper cross-refs\n- CHANGELOG.md uses keep-a-changelog format (Added/Changed/Fixed/Removed sections)\n- The fleet review rubric and consolidated findings are historical snapshots -- add archive header but don't delete\n## Acceptance\n- [ ] README.md, CLAUDE.md, AGENTS.md all show \"121 skills across 22 categories\" (consistent with task 1 output)\n- [ ] Counts verified by `jq '.skills | length'` returning 121\n- [ ] WARN threshold documented as 12,000 chars (unchanged from task 1 -- no adjustment)\n- [ ] CHANGELOG.md has entry under `[Unreleased]` with `### Changed` section documenting:\n  - Budget improvement from 13,481 to 11,948 chars (84 descriptions trimmed)\n  - --projected-skills updated from 100 to 121 in validate-skills.sh\n  - Reference to fn-29 (audit), fn-37 (cleanup), fn-40 (this epic)\n- [ ] `docs/fleet-review-rubric.md` has archive header: \"Historical snapshot (completed 2026-02-16)\"\n- [ ] `docs/review-reports/consolidated-findings.md` has archive header: \"Historical snapshot (completed 2026-02-16)\"\n- [ ] All 4 validation commands pass: `validate-skills.sh`, `validate-marketplace.sh`, `generate_dist.py --strict`, `validate_cross_agent.py`\n- [ ] No regressions from fn-37 changes (zero `fn-[0-9]` references in skill files if fn-37 completed)\n## Done summary\nAdded CHANGELOG entry under [Unreleased] documenting fleet review resolution (budget trimmed 13,481->11,948 chars with 84 descriptions, --projected-skills updated 100->121, references fn-29/fn-37/fn-40). Added archive headers to docs/fleet-review-rubric.md and docs/review-reports/consolidated-findings.md. Updated CLAUDE.md budget reference from \"100 skills\" to \"121 skills\". Verified count consistency across README.md, CLAUDE.md, AGENTS.md (all show 121 skills / 22 categories). All 4 validation commands pass, zero fn-N references in skill files.\n## Evidence\n- Commits: 63f2ecf1244d67d3303170da8bacfc839f643e80\n- Tests: ./scripts/validate-skills.sh, ./scripts/validate-marketplace.sh, python3 scripts/generate_dist.py --strict, python3 scripts/validate_cross_agent.py\n- PRs:"
    }
  ]
}
