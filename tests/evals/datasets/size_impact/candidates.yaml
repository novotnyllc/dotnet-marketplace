# Size impact eval candidates for progressive disclosure validation.
#
# Skills selected across three size tiers (body = SKILL.md after frontmatter strip):
#   Small  (<5KB body)   -- 2 skills in this repo (min ~3KB; no skills <2KB exist)
#   Medium (5-15KB body) -- 52 skills
#   Large  (>15KB body)  -- 77 skills
#
# Task .6 spec suggested <2KB/2-5KB/>5KB thresholds, but no skills in the
# 131-skill catalog have a body under 2KB. Thresholds adjusted to produce
# meaningful tier separation across the actual data.
#
# Each candidate includes an `expected_tier` field for machine-readable
# size metadata. Runtime classification via classify_size_tier() is the
# authoritative tier; expected_tier is advisory for dataset audits.
#
# Skills with `siblings` get a fourth "full + siblings" condition.
# max_sibling_bytes caps total sibling content per skill.

candidates:
  # --- Small tier (<5KB body) ---
  - skill: dotnet-windbg-debugging
    expected_tier: small
    test_prompt: >
      Write a diagnostic report template for analyzing a .NET crash dump
      using WinDbg. Include commands for loading SOS, analyzing the
      exception, and inspecting managed threads.

  - skill: dotnet-ado-patterns
    expected_tier: small
    test_prompt: >
      Create Azure DevOps YAML pipeline templates for a .NET microservices
      solution that builds, tests, and publishes multiple projects
      with proper dependency caching.
    siblings:
      - examples.md
    max_sibling_bytes: 15000

  # --- Medium tier (5-15KB body) ---
  - skill: dotnet-observability
    expected_tier: medium
    test_prompt: >
      Set up OpenTelemetry tracing and metrics for a .NET Minimal API
      with custom business metrics, health checks, and OTLP export
      to a collector.
    siblings:
      - examples.md
    max_sibling_bytes: 10000

  - skill: dotnet-csharp-async-patterns
    expected_tier: medium
    test_prompt: >
      Implement a concurrent data processing pipeline using async streams,
      Channel<T>, and proper cancellation token propagation in .NET.

  - skill: dotnet-csharp-coding-standards
    expected_tier: medium
    test_prompt: >
      Refactor a legacy C# class to follow modern .NET coding standards
      including naming conventions, nullable reference types, expression
      bodies, and file-scoped namespaces.

  - skill: dotnet-csharp-code-smells
    expected_tier: medium
    test_prompt: >
      Analyze a C# codebase for common code smells and anti-patterns.
      Identify issues like god classes, feature envy, and primitive
      obsession, with refactoring recommendations.
    siblings:
      - details.md
    max_sibling_bytes: 10000

  # --- Large tier (>15KB body) ---
  - skill: dotnet-xunit
    expected_tier: large
    test_prompt: >
      Write xUnit v3 tests for a .NET order processing service with
      shared database fixtures, parameterized theories, and async
      lifecycle management.

  - skill: dotnet-efcore-patterns
    expected_tier: large
    test_prompt: >
      Design an EF Core data access layer with repository pattern,
      unit of work, optimistic concurrency, and query optimization
      using compiled queries and split queries.

  - skill: dotnet-security-owasp
    expected_tier: large
    test_prompt: >
      Implement OWASP Top 10 mitigations for a .NET web API including
      input validation, authentication, CSRF protection, security
      headers, and rate limiting.

  - skill: dotnet-blazor-patterns
    expected_tier: large
    test_prompt: >
      Build a Blazor component library with render mode detection,
      cascading parameters, error boundaries, and virtualized list
      rendering for large datasets.

  - skill: dotnet-integration-testing
    expected_tier: large
    test_prompt: >
      Set up integration tests for a .NET Minimal API using
      WebApplicationFactory with custom service overrides, Testcontainers
      for database isolation, and authentication test helpers.
