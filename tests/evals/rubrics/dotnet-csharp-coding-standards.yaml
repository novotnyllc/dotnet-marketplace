skill_name: dotnet-csharp-coding-standards

test_prompts:
  - "Review and refactor this C# service class to follow modern .NET coding standards. Fix naming, access modifiers, null handling, and file organization: class orderService { readonly IOrderRepository repo; string get_customer_name(int id) { var c = repo.GetCustomer(id); if (c == null) return null; return c.firstName + \" \" + c.lastName; } }"
  - "Write a well-structured C# interface and implementation for a payment processing service with proper naming conventions, CancellationToken support, XML documentation, and sealed class design."

criteria:
  - name: naming_conventions
    weight: 0.30
    description: "Follows Microsoft naming guidelines: PascalCase for types, methods, properties, and public constants. I-prefix for interfaces. _camelCase for private fields. camelCase for parameters and locals. Async suffix on async methods. Boolean properties prefixed with Is/Has/Can. Plural nouns for collections."
  - name: code_style
    weight: 0.25
    description: "Uses file-scoped namespaces. Always includes explicit access modifiers (no implicit internal/private). Uses var when type is obvious from right-hand side, explicit type otherwise. Prefers pattern matching for null checks (is not null). Uses string interpolation over concatenation."
  - name: type_design
    weight: 0.20
    description: "Seals classes not designed for inheritance. Prefers composition over inheritance. Applies interface segregation with focused, small interfaces. Uses expression-bodied members for single-expression properties and methods."
  - name: defensive_patterns
    weight: 0.15
    description: "Always uses braces for control flow even on single-line bodies. Accepts CancellationToken as last parameter with default value in async methods. Forwards tokens to all downstream async calls. Uses null-conditional and null-coalescing operators appropriately."
  - name: documentation_and_enforcement
    weight: 0.10
    description: "Adds XML documentation to public API surfaces with summary, param, and returns tags. Configures EditorConfig rules or Directory.Build.props with EnforceCodeStyleInBuild and AnalysisLevel for automated style enforcement."
